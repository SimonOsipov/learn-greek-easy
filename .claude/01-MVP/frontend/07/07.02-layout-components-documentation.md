# Task 07.02: Document Layout Components

**Status**: üìã **PLANNED**
**Parent Task**: [Task 07 - UI Components](../07-ui-components.md)
**Priority**: High
**Estimated Duration**: 45 minutes
**Dependencies**: None
**Deliverable**: Updated Components-Reference.md with 3 layout components + resolved naming inconsistency

---

## Objective

Document 3 layout components (AppLayout, MobileNav, Header) in Components-Reference.md and resolve the MobileNav/MobileBottomNav naming inconsistency.

---

## Components to Document

### 1. AppLayout
**File**: `/src/components/layout/AppLayout.tsx`
**Purpose**: Main application layout wrapper providing consistent header, navigation, and content structure
**Usage**: Wrap all authenticated pages
**Key Props**: `children`

### 2. MobileNav (MobileBottomNav)
**File**: `/src/components/layout/MobileNav.tsx`
**Purpose**: Mobile bottom navigation bar with tab-based navigation
**Usage**: Displayed automatically on mobile viewports within AppLayout
**Key Props**: `currentPath`, `onNavigate`

### 3. Header (Update Existing Documentation)
**File**: `/src/components/layout/Header.tsx`
**Purpose**: Main navigation header with logo, desktop nav, user menu
**Status**: Currently documented in Components-Reference.md, needs update for AppLayout integration
**Update Focus**: Integration with AppLayout, responsive behavior

---

## Naming Inconsistency Resolution

### Issue

**Current State**:
- Component file: `MobileNav.tsx`
- Documentation: Refers to component as `MobileBottomNav`
- This creates confusion and makes imports unclear

### Resolution Options

**Option 1: Rename File to Match Documentation** (RECOMMENDED)
- Rename: `MobileNav.tsx` ‚Üí `MobileBottomNav.tsx`
- Update all imports in codebase
- Update Components-Reference.md to use consistent name
- **Pros**: Name is more descriptive (clarifies bottom vs side nav), matches existing docs
- **Cons**: Requires code changes, requires testing

**Option 2: Update Documentation to Match File**
- Keep file as `MobileNav.tsx`
- Update all references in Components-Reference.md to `MobileNav`
- **Pros**: No code changes required
- **Cons**: Less descriptive name, requires doc updates

**Option 3: Document as Alias**
- Keep both names
- Document that `MobileNav` exports as `MobileBottomNav`
- **Pros**: Backward compatibility
- **Cons**: Maintains confusion, not recommended

### Recommended Approach: Option 1

**Action Items**:
1. Rename file: `MobileNav.tsx` ‚Üí `MobileBottomNav.tsx`
2. Update import in `AppLayout.tsx`
3. Update any other files importing `MobileNav`
4. Document as `MobileBottomNav` in Components-Reference.md
5. Add note in documentation about the naming clarification

**Search for Imports**:
```bash
# Find all files importing MobileNav
grep -r "from.*MobileNav" /src
grep -r "import.*MobileNav" /src
```

---

## Documentation Template for Each Component

### AppLayout

```markdown
### AppLayout

**Purpose**: Main application layout wrapper that provides consistent structure with header, navigation, and content area for all authenticated pages. Automatically handles responsive behavior with mobile bottom navigation.

**File**: `/src/components/layout/AppLayout.tsx`

**Interface**:
```typescript
interface AppLayoutProps {
  children: React.ReactNode;
  showHeader?: boolean;
  showMobileNav?: boolean;
}
```

**Usage**:
```tsx
import { AppLayout } from '@/components/layout/AppLayout';

// Basic usage - wraps authenticated page content
<AppLayout>
  <Dashboard />
</AppLayout>

// With optional props
<AppLayout showHeader={true} showMobileNav={true}>
  <Settings />
</AppLayout>
```

**Features**:
- Integrates Header component for desktop navigation
- Integrates MobileBottomNav for mobile navigation (< 768px)
- Provides consistent padding and max-width constraints
- Handles responsive layout switching
- Supports Outlet for React Router nested routes

**Layout Structure**:
```tsx
<div className="min-h-screen flex flex-col">
  <Header /> {/* Desktop navigation */}
  <main className="flex-1">
    {children}
  </main>
  <MobileBottomNav /> {/* Mobile navigation - hidden on desktop */}
</div>
```

**Related Components**:
- [Header](#header) - Desktop navigation
- [MobileBottomNav](#mobilebottomnav) - Mobile navigation
- [PageContainer](#pagecontainer) - Content wrapper (used inside AppLayout)
```

### MobileBottomNav

```markdown
### MobileBottomNav

**Purpose**: Fixed bottom navigation bar for mobile devices (< 768px) providing quick access to main app sections. Automatically hidden on desktop viewports.

**File**: `/src/components/layout/MobileBottomNav.tsx`

**Interface**:
```typescript
interface MobileBottomNavProps {
  currentPath?: string;
}

interface NavItem {
  path: string;
  label: string;
  icon: LucideIcon;
  badge?: number;
}
```

**Usage**:
```tsx
import { MobileBottomNav } from '@/components/layout/MobileBottomNav';
import { useLocation } from 'react-router-dom';

// Basic usage
<MobileBottomNav />

// With current path for active state
const location = useLocation();
<MobileBottomNav currentPath={location.pathname} />
```

**Navigation Items**:
- Home/Dashboard (`/`, HomeIcon)
- Decks (`/decks`, BookOpenIcon)
- Statistics (`/statistics`, BarChartIcon)
- Profile (`/profile`, UserIcon)

**Mobile Behavior**:
- Fixed to bottom of viewport (`fixed bottom-0`)
- Full width on mobile
- Hidden on desktop (md breakpoint: 768px+)
- Safe area padding for notched devices
- Active state highlighting based on currentPath
- Badge support for notifications (e.g., cards due)

**Styling**:
```tsx
// Active item styling
className={cn(
  "flex flex-col items-center gap-1 py-2 px-3 rounded-lg transition-colors",
  isActive
    ? "text-primary bg-primary/10"
    : "text-muted hover:text-primary hover:bg-primary/5"
)}
```

**Related Components**:
- [AppLayout](#applayout) - Parent container
- [Header](#header) - Desktop navigation alternative
- [NavigationMenu](#navigationmenu) - Desktop nav component
```

### Header (Update)

```markdown
### Header

**Purpose**: Main navigation header containing logo, desktop navigation menu, and user profile menu. Responsive design with mobile menu toggle.

**File**: `/src/components/layout/Header.tsx`

**Interface**:
```typescript
interface HeaderProps {
  className?: string;
  showNavigation?: boolean;
  showUserMenu?: boolean;
}
```

**Usage**:
```tsx
import { Header } from '@/components/layout/Header';

// Basic usage (default props)
<Header />

// Customized
<Header
  showNavigation={true}
  showUserMenu={true}
  className="border-b"
/>
```

**Structure**:
- Logo/Brand (left)
- NavigationMenu (center, desktop only)
- UserMenu (right)

**Responsive Behavior**:
- **Desktop (‚â•768px)**: Shows full navigation menu
- **Mobile (<768px)**: Hides navigation menu (replaced by MobileBottomNav)
- User menu visible on all screen sizes

**Integration with AppLayout**:
```tsx
// In AppLayout.tsx
<div className="min-h-screen flex flex-col">
  <Header /> {/* Sticky header */}
  <main className="flex-1">
    <Outlet /> {/* Page content */}
  </main>
  <MobileBottomNav /> {/* Mobile only */}
</div>
```

**Related Components**:
- [AppLayout](#applayout) - Parent layout container
- [NavigationMenu](#navigationmenu) - Desktop navigation
- [MobileBottomNav](#mobilebottomnav) - Mobile navigation
- [UserMenu](#usermenu) - User profile dropdown
```

---

## Implementation Steps

### Step 1: Resolve Naming Inconsistency (15 min)

**1.1 Find All Import References**:
```bash
# Search for MobileNav imports
grep -rn "from.*MobileNav" /Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/
grep -rn "import.*MobileNav" /Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/
```

**1.2 Rename File**:
```bash
# Rename component file
mv /src/components/layout/MobileNav.tsx /src/components/layout/MobileBottomNav.tsx
```

**1.3 Update Imports**:
- Update `AppLayout.tsx` import statement
- Update any barrel exports in `/src/components/layout/index.ts`
- Update any other files importing the component

**1.4 Verify Build**:
```bash
npm run dev # Ensure no build errors
npm run type-check # Verify TypeScript compilation
```

### Step 2: Read Component Source Code (10 min)

Analyze each component:
- AppLayout structure and props
- MobileBottomNav navigation items and responsive behavior
- Header integration points and responsive breakpoints

```bash
# Read component files
cat /src/components/layout/AppLayout.tsx
cat /src/components/layout/MobileNav.tsx
cat /src/components/layout/Header.tsx
```

### Step 3: Extract Interfaces and Create Documentation (15 min)

For each component:
- Extract TypeScript interfaces
- Document props and default values
- Create usage examples
- Note responsive behavior
- Document integration patterns

### Step 4: Update Components-Reference.md (5 min)

**Update Existing "Layout Components" Section**:
```markdown
### Layout Components (5)
Components for page structure and content organization

| Component | Type | Purpose |
|-----------|------|---------|
| [AppLayout](#applayout) | Wrapper | Main app layout with header/nav |
| [PageContainer](#pagecontainer) | Custom | Max-width wrapper |
| [ContentLayout](#contentlayout) | Custom | Two-column grid |
| [Section](#section) | Custom | Content section wrapper |
| [MobileBottomNav](#mobilebottomnav) | Custom | Mobile bottom navigation |
```

Add full documentation for AppLayout and MobileBottomNav in detailed sections.
Update existing Header documentation with AppLayout integration notes.

---

## Success Criteria

- [ ] MobileNav.tsx renamed to MobileBottomNav.tsx
- [ ] All imports updated and build successful
- [ ] AppLayout fully documented with interface and usage
- [ ] MobileBottomNav fully documented (replacing MobileNav references)
- [ ] Header documentation updated with AppLayout integration
- [ ] Layout Components table updated in Components-Reference.md
- [ ] Responsive behavior documented for all components
- [ ] Integration pattern between AppLayout, Header, MobileBottomNav documented
- [ ] All code examples syntactically correct
- [ ] No TypeScript compilation errors after renaming

---

## File Paths Reference

```
Source Files:
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/AppLayout.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/MobileNav.tsx ‚Üí MobileBottomNav.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/Header.tsx

Documentation File:
/Users/samosipov/Downloads/learn-greek-easy/.claude/01-MVP/frontend/Components-Reference.md

Files to Check for Imports:
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/index.ts
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/App.tsx
```

---

## Integration Notes

### Responsive Layout Pattern

The layout components work together to provide responsive navigation:

**Desktop (‚â•768px)**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Header (Logo | Nav | UserMenu)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                  ‚îÇ
‚îÇ         Page Content             ‚îÇ
‚îÇ      (wrapped in AppLayout)      ‚îÇ
‚îÇ                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Mobile (<768px)**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Header (Logo | UserMenu)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                  ‚îÇ
‚îÇ         Page Content             ‚îÇ
‚îÇ      (wrapped in AppLayout)      ‚îÇ
‚îÇ                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ MobileBottomNav (Tab Navigation) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### AppLayout Usage Pattern

All authenticated pages should use AppLayout:

```tsx
// In route configuration (App.tsx)
<Routes>
  <Route path="/" element={
    <ProtectedRoute>
      <AppLayout>
        <Dashboard />
      </AppLayout>
    </ProtectedRoute>
  } />

  <Route path="/decks" element={
    <ProtectedRoute>
      <AppLayout>
        <DecksPage />
      </AppLayout>
    </ProtectedRoute>
  } />
</Routes>
```

**Alternative Pattern with Outlet**:
```tsx
// Parent route with AppLayout
<Route element={<AppLayout />}>
  <Route path="/" element={<Dashboard />} />
  <Route path="/decks" element={<DecksPage />} />
  <Route path="/statistics" element={<Statistics />} />
</Route>
```

---

## Common Pitfalls to Document

1. **Missing AppLayout on Authenticated Pages**:
   ```tsx
   // ‚ùå Wrong - no layout wrapper
   <ProtectedRoute>
     <Dashboard />
   </ProtectedRoute>

   // ‚úÖ Correct - wrapped in AppLayout
   <ProtectedRoute>
     <AppLayout>
       <Dashboard />
     </AppLayout>
   </ProtectedRoute>
   ```

2. **Manually Adding Header and MobileNav**:
   ```tsx
   // ‚ùå Wrong - duplicates AppLayout functionality
   <AppLayout>
     <Header />
     <Dashboard />
     <MobileBottomNav />
   </AppLayout>

   // ‚úÖ Correct - AppLayout handles header/nav
   <AppLayout>
     <Dashboard />
   </AppLayout>
   ```

3. **Not Using PageContainer Inside AppLayout**:
   ```tsx
   // ‚ö†Ô∏è Caution - no max-width constraint
   <AppLayout>
     <div>Content here</div>
   </AppLayout>

   // ‚úÖ Better - proper content constraints
   <AppLayout>
     <PageContainer>
       <div>Content here</div>
     </PageContainer>
   </AppLayout>
   ```

---

## Responsive Breakpoints

Document the responsive behavior:

```typescript
// Tailwind breakpoints used
const BREAKPOINTS = {
  sm: '640px',  // Small tablets
  md: '768px',  // Tablets - KEY BREAKPOINT for mobile nav switch
  lg: '1024px', // Desktop
  xl: '1280px', // Large desktop
  '2xl': '1536px' // Extra large desktop
};

// MobileBottomNav visibility
className="md:hidden" // Hidden on ‚â•768px

// Desktop NavigationMenu visibility
className="hidden md:flex" // Visible on ‚â•768px
```

---

## Related Style Guide Updates

This task documents layout components. The corresponding pattern documentation is in Task 07.04d (Mobile-Specific Patterns).

Ensure cross-references:
- Components-Reference.md ‚Üí Link to Style Guide Mobile Patterns
- Style-Guide.md ‚Üí Link to Components-Reference.md layout components

---

## Definition of Done

- [ ] MobileNav.tsx successfully renamed to MobileBottomNav.tsx
- [ ] All imports updated across codebase
- [ ] Build and type-check passing with no errors
- [ ] AppLayout fully documented with complete interface
- [ ] MobileBottomNav fully documented (no references to old MobileNav name)
- [ ] Header documentation updated with AppLayout integration notes
- [ ] Layout Components section updated in Components-Reference.md
- [ ] Responsive behavior documented for all components
- [ ] Integration patterns documented with code examples
- [ ] Common pitfalls section added
- [ ] Task completion logged in Frontend-Tasks-Progress.md

---

## Time Breakdown

| Activity | Duration | Details |
|----------|----------|---------|
| Resolve naming inconsistency | 15 min | Rename file, update imports, verify build |
| Read component source code | 10 min | Analyze AppLayout, MobileNav, Header |
| Extract interfaces & create docs | 15 min | Write documentation for all 3 components |
| Update Components-Reference.md | 5 min | Add new docs, update existing Header docs |
| **TOTAL** | **45 min** | |

---

## Next Steps

After completing this task:
1. Proceed to Task 07.03 (Page Components Documentation)
2. Cross-reference with Task 07.04d (Mobile-Specific Patterns in Style Guide)
3. Consider adding mobile screenshots showing bottom navigation
