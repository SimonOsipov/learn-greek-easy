# Task 07.03: Document Page Components

**Status**: ðŸ“‹ **PLANNED**
**Parent Task**: [Task 07 - UI Components](../07-ui-components.md)
**Priority**: High
**Estimated Duration**: 125 minutes (2 hours 5 minutes)
**Dependencies**: Task 07.01 (for auth pattern references)
**Deliverable**: Updated Components-Reference.md with 14 documented page/utility components

---

## Objective

Document all page components, test pages, and utility components in Components-Reference.md, providing complete routing patterns, state management, and usage examples.

---

## Components to Document

### Authentication Pages (3)

1. **Login** - `/src/pages/Login.tsx`
   - Email/password login form
   - Error handling and validation
   - Integration with auth store
   - Redirect after login

2. **Register** - `/src/pages/Register.tsx`
   - Email/password/name registration form
   - Password strength validation
   - Terms acceptance
   - Auto-login after registration

3. **ForgotPassword** - `/src/pages/ForgotPassword.tsx`
   - Password reset request form
   - Email validation
   - Success/error messaging

### Error Pages (2)

4. **Unauthorized** - `/src/pages/Unauthorized.tsx`
   - 401 error page
   - Displayed when user lacks permissions
   - Link back to dashboard

5. **NotFound** - `/src/pages/NotFound.tsx`
   - 404 error page
   - Displayed for invalid routes
   - Link back to home

### Feature Pages (5)

6. **DecksPage** - `/src/pages/DecksPage.tsx` (formerly Decks.tsx)
   - Deck listing with grid layout
   - Deck creation and filtering
   - Integration with deck store

7. **DeckDetailPage** - `/src/pages/DeckDetailPage.tsx`
   - Individual deck view
   - Flashcard list
   - Deck statistics and progress
   - Start review button

8. **FlashcardReviewPage** - `/src/pages/FlashcardReviewPage.tsx`
   - Flashcard review session
   - Keyboard shortcuts
   - Rating buttons
   - Session state management

9. **SessionSummaryPage** - `/src/pages/SessionSummaryPage.tsx`
   - Post-review summary
   - Cards reviewed statistics
   - Accuracy and time metrics
   - Continue or return to dashboard

10. **Settings** - `/src/pages/Settings.tsx`
    - User settings management
    - Profile preferences
    - Account settings

### Test/Development Pages (2)

11. **ChartsTestPage** - `/src/pages/ChartsTestPage.tsx`
    - Test page for chart components
    - Development/QA only
    - Not in production routes

12. **ActivityFeedTest** - `/src/pages/ActivityFeedTest.tsx`
    - Test page for activity feed
    - Development/QA only
    - Not in production routes

### Utility Components (2)

13. **FlashcardSkeleton** - `/src/components/flashcard/FlashcardSkeleton.tsx`
    - Loading skeleton for flashcard review
    - Animated loading state
    - Matches flashcard dimensions

14. **KeyboardShortcutsHelp** - `/src/components/flashcard/KeyboardShortcutsHelp.tsx`
    - Help modal for keyboard shortcuts
    - Triggered by "?" key
    - List of all available shortcuts

---

## Documentation Structure

### New Sections to Add to Components-Reference.md

1. **Page Components** (10 components)
   - Authentication Pages subsection (3)
   - Error Pages subsection (2)
   - Feature Pages subsection (5)

2. **Test/Development Components** (2 components)
   - Mark as development-only
   - Not included in production builds

3. **Utility Components** (2 components)
   - Utility subsection under appropriate category

---

## Documentation Template for Page Components

```markdown
### PageName

**Purpose**: [1-2 sentence description of the page's function and user goal]

**File**: `/src/pages/PageName.tsx`

**Route**: `/route-path`

**Access**: [Public / Protected / Admin]

**Interface**:
```typescript
// Page-specific props if using route params
interface PageNameProps {
  // Usually empty for pages, or route params
}

// Key state interfaces
interface PageNameState {
  // Local state used in the page
}
```

**Features**:
- Feature 1
- Feature 2
- Feature 3

**State Management**:
- Store: `useAuthStore`, `useDeckStore`, etc.
- Local state: React.useState for form inputs, modals, etc.

**Usage**:
```tsx
// In route configuration (App.tsx)
import { PageName } from '@/pages/PageName';

<Route path="/route-path" element={
  <ProtectedRoute>
    <AppLayout>
      <PageName />
    </AppLayout>
  </ProtectedRoute>
} />
```

**Key Interactions**:
- User action 1 â†’ Result
- User action 2 â†’ Result

**Related Pages**:
- [OtherPage](#otherpage) - How they relate

**Integration Notes**:
- Store dependencies
- External services
- Navigation patterns
```

---

## Implementation Steps

### Step 1: Authentication Pages Documentation (30 min)

**1.1 Read Source Files**:
```bash
cat /src/pages/Login.tsx
cat /src/pages/Register.tsx
cat /src/pages/ForgotPassword.tsx
```

**1.2 Document Each Page**:

For each auth page, capture:
- Form fields and validation rules
- Auth store integration (login, register methods)
- Error handling patterns
- Success redirects
- Link to other auth pages

**Example: Login Page Documentation**:

```markdown
### Login

**Purpose**: User authentication page with email/password form. Validates credentials and redirects authenticated users to dashboard.

**File**: `/src/pages/Login.tsx`

**Route**: `/login`

**Access**: Public (wrapped in PublicRoute)

**Features**:
- Email and password input fields
- Form validation with error messages
- "Remember me" checkbox
- "Forgot password?" link
- Link to registration page
- Loading state during authentication
- Error display for failed login attempts

**State Management**:
- Store: `useAuthStore` (login method)
- Local state: email, password, remember, loading, error

**Usage**:
```tsx
// In route configuration
<Route path="/login" element={
  <PublicRoute redirectTo="/dashboard">
    <AuthLayout>
      <Login />
    </AuthLayout>
  </PublicRoute>
} />
```

**Form Fields**:
| Field | Type | Validation |
|-------|------|------------|
| email | text | Required, valid email format |
| password | password | Required, min 8 characters |
| remember | checkbox | Optional |

**Key Interactions**:
- Submit form â†’ Call `authStore.login(email, password, remember)`
- Success â†’ Redirect to `/dashboard` or returnUrl
- Error â†’ Display error message below form
- "Forgot password?" â†’ Navigate to `/forgot-password`
- "Sign up" link â†’ Navigate to `/register`

**Related Pages**:
- [Register](#register) - Create new account
- [ForgotPassword](#forgotpassword) - Reset password
- [Dashboard](#dashboard) - Redirect destination after login
```

### Step 2: Error Pages Documentation (15 min)

**2.1 Read Source Files**:
```bash
cat /src/pages/Unauthorized.tsx
cat /src/pages/NotFound.tsx
```

**2.2 Document Error Pages**:

Focus on:
- When the page is displayed
- Error message content
- Navigation options
- Status codes

**Example: NotFound Documentation**:

```markdown
### NotFound

**Purpose**: 404 error page displayed when user navigates to invalid route. Provides helpful message and navigation back to home.

**File**: `/src/pages/NotFound.tsx`

**Route**: `*` (catch-all route)

**Access**: Public

**Features**:
- 404 error illustration or icon
- User-friendly error message
- "Return to Home" button
- Optional list of valid routes

**Usage**:
```tsx
// In route configuration (last route - catch-all)
<Route path="*" element={<NotFound />} />
```

**Content**:
- Heading: "Page Not Found"
- Message: "The page you're looking for doesn't exist."
- CTA Button: "Return to Dashboard" (if authenticated) or "Go to Home" (if not)

**Related Pages**:
- [Unauthorized](#unauthorized) - 401 error page
```

### Step 3: Feature Pages Documentation (50 min)

**3.1 Read Source Files**:
```bash
cat /src/pages/DecksPage.tsx
cat /src/pages/DeckDetailPage.tsx
cat /src/pages/FlashcardReviewPage.tsx
cat /src/pages/SessionSummaryPage.tsx
cat /src/pages/Settings.tsx
```

**3.2 Document Each Feature Page**:

For each feature page, capture:
- Primary user goal
- Store integrations
- Key components used
- Navigation patterns
- State management complexity

**Example: FlashcardReviewPage Documentation**:

```markdown
### FlashcardReviewPage

**Purpose**: Interactive flashcard review session where users study and rate their knowledge of words. Implements spaced repetition algorithm for optimal learning.

**File**: `/src/pages/FlashcardReviewPage.tsx`

**Route**: `/decks/:deckId/review`

**Access**: Protected

**Interface**:
```typescript
// Route params
interface FlashcardReviewPageParams {
  deckId: string;
}

// Review session state
interface ReviewState {
  currentCard: ReviewCard | null;
  cardsRemaining: number;
  sessionProgress: number;
  showAnswer: boolean;
}
```

**Features**:
- Flashcard display with front/back
- Answer reveal on click/spacebar
- Rating buttons (Again, Hard, Good, Easy)
- Keyboard shortcuts (1-4 for ratings, Space for reveal)
- Progress indicator
- Session summary on completion
- Exit confirmation dialog

**State Management**:
- Store: `useReviewStore` (startSession, rateCard, endSession)
- Store: `useDeckStore` (getDeck, updateCardProgress)
- Local state: currentCard, showAnswer, sessionState

**Usage**:
```tsx
// In route configuration
<Route path="/decks/:deckId/review" element={
  <ProtectedRoute>
    <FlashcardReviewPage />
  </ProtectedRoute>
} />

// Navigation to review page
const navigate = useNavigate();
navigate(`/decks/${deckId}/review`);
```

**Key Components**:
- [FlashcardContainer](#flashcardcontainer) - Card display
- [RatingButtons](#ratingbuttons) - Rating interface
- [ProgressHeader](#progressheader) - Session progress
- [KeyboardShortcutsTooltip](#keyboardshortcutstooltip) - Shortcut help
- [FlashcardSkeleton](#flashcardskeleton) - Loading state

**Keyboard Shortcuts**:
| Key | Action |
|-----|--------|
| Space | Reveal answer |
| 1 | Rate "Again" (< 1 min) |
| 2 | Rate "Hard" (< 6 min) |
| 3 | Rate "Good" (< 10 min) |
| 4 | Rate "Easy" (4 days) |
| ? | Show shortcuts help |
| Esc | Exit review (with confirmation) |

**Key Interactions**:
- Load session â†’ Call `reviewStore.startSession(deckId)`
- Show answer â†’ Toggle showAnswer state
- Rate card â†’ Call `reviewStore.rateCard(cardId, rating)`
- Complete session â†’ Navigate to `/session-summary/:sessionId`
- Exit early â†’ Show confirmation dialog â†’ End session

**Related Pages**:
- [DeckDetailPage](#deckdetailpage) - Navigate from here to start review
- [SessionSummaryPage](#sessionsummarypage) - Navigate here after review
```

### Step 4: Test Pages Documentation (15 min)

**4.1 Read Source Files**:
```bash
cat /src/pages/ChartsTestPage.tsx
cat /src/pages/ActivityFeedTest.tsx
```

**4.2 Document Test Pages**:

Mark clearly as development-only:

```markdown
### ChartsTestPage

**Purpose**: Development test page for visualizing and debugging chart components. Not included in production builds.

**File**: `/src/pages/ChartsTestPage.tsx`

**Route**: `/test/charts` (development only)

**Access**: Development only

**âš ï¸ Note**: This component is for development and QA testing only. It should not be included in production route configuration.

**Features**:
- Displays all chart components with sample data
- Interactive controls for testing different data scenarios
- Visual regression testing reference

**Usage**:
```tsx
// Only in development environment
{import.meta.env.DEV && (
  <Route path="/test/charts" element={<ChartsTestPage />} />
)}
```

**Components Tested**:
- [ProgressLineChart](#progresslinechart)
- [AccuracyAreaChart](#accuracyareachart)
- [DeckPerformanceChart](#deckperformancechart)
- [StageDistributionChart](#stagedistributionchart)
```

### Step 5: Utility Components Documentation (15 min)

**5.1 Read Source Files**:
```bash
cat /src/components/flashcard/FlashcardSkeleton.tsx
cat /src/components/flashcard/KeyboardShortcutsHelp.tsx
```

**5.2 Document Utility Components**:

```markdown
### FlashcardSkeleton

**Purpose**: Animated loading skeleton that matches flashcard dimensions, shown while flashcard content is loading during review sessions.

**File**: `/src/components/flashcard/FlashcardSkeleton.tsx`

**Category**: Loading/Feedback Component

**Usage**:
```tsx
import { FlashcardSkeleton } from '@/components/flashcard/FlashcardSkeleton';

// In FlashcardReviewPage while loading
{loading ? (
  <FlashcardSkeleton />
) : (
  <FlashcardContainer card={currentCard} />
)}
```

**Features**:
- Matches FlashcardContainer dimensions
- Pulse animation effect
- Shows placeholder for word, translation, and action buttons
- Responsive sizing

**Related Components**:
- [FlashcardContainer](#flashcardcontainer) - Actual flashcard component
- [Skeleton](#skeleton) - Base Shadcn skeleton component

---

### KeyboardShortcutsHelp

**Purpose**: Modal dialog displaying all available keyboard shortcuts during flashcard review. Triggered by pressing "?" key.

**File**: `/src/components/flashcard/KeyboardShortcutsHelp.tsx`

**Category**: Help/Documentation Component

**Interface**:
```typescript
interface KeyboardShortcutsHelpProps {
  open: boolean;
  onClose: () => void;
}
```

**Usage**:
```tsx
import { KeyboardShortcutsHelp } from '@/components/flashcard/KeyboardShortcutsHelp';

const [showHelp, setShowHelp] = useState(false);

// In FlashcardReviewPage
<KeyboardShortcutsHelp
  open={showHelp}
  onClose={() => setShowHelp(false)}
/>

// Trigger with keyboard listener
useEffect(() => {
  const handleKeyPress = (e: KeyboardEvent) => {
    if (e.key === '?') setShowHelp(true);
  };
  window.addEventListener('keypress', handleKeyPress);
  return () => window.removeEventListener('keypress', handleKeyPress);
}, []);
```

**Shortcut Categories**:
- Card Navigation
- Rating Actions
- View Controls
- Help & Exit

**Related Components**:
- [Dialog](#dialog) - Base dialog component
- [FlashcardReviewPage](#flashcardreviewpage) - Parent page
```

---

## Success Criteria

- [ ] All 10 page components fully documented
- [ ] All 2 test pages documented and marked as development-only
- [ ] All 2 utility components documented
- [ ] New "Page Components" section added to Components-Reference.md
- [ ] New "Test/Development Components" section added
- [ ] Each page has complete routing configuration examples
- [ ] Each page documents store integrations
- [ ] Form validation rules documented for auth pages
- [ ] Keyboard shortcuts documented for FlashcardReviewPage
- [ ] All route paths verified and correct
- [ ] Cross-references to related components added
- [ ] Documentation follows consistent formatting

---

## File Paths Reference

```
Page Files:
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/Login.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/Register.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/ForgotPassword.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/Unauthorized.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/NotFound.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/DecksPage.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/DeckDetailPage.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/FlashcardReviewPage.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/SessionSummaryPage.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/Settings.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/ChartsTestPage.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/pages/ActivityFeedTest.tsx

Utility Files:
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/flashcard/FlashcardSkeleton.tsx
/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/flashcard/KeyboardShortcutsHelp.tsx

Documentation File:
/Users/samosipov/Downloads/learn-greek-easy/.claude/01-MVP/frontend/Components-Reference.md
```

---

## Integration Notes

### Route Configuration Pattern

All pages follow consistent route configuration:

```tsx
// App.tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';

<BrowserRouter>
  <Routes>
    {/* Public routes */}
    <Route path="/login" element={
      <PublicRoute>
        <AuthLayout><Login /></AuthLayout>
      </PublicRoute>
    } />

    {/* Protected routes */}
    <Route path="/" element={
      <ProtectedRoute>
        <AppLayout><Dashboard /></AppLayout>
      </ProtectedRoute>
    } />

    {/* Error routes */}
    <Route path="/unauthorized" element={<Unauthorized />} />
    <Route path="*" element={<NotFound />} />
  </Routes>
</BrowserRouter>
```

### Page Layout Pattern

```tsx
// Authentication pages
<PublicRoute>
  <AuthLayout>
    <LoginPage />
  </AuthLayout>
</PublicRoute>

// Protected feature pages
<ProtectedRoute>
  <AppLayout>
    <PageContainer>
      <FeaturePage />
    </PageContainer>
  </AppLayout>
</ProtectedRoute>

// Fullscreen pages (review, session summary)
<ProtectedRoute>
  <ReviewPage /> {/* No AppLayout - fullscreen */}
</ProtectedRoute>
```

---

## Common Patterns to Document

### Form Validation Pattern

```typescript
// Used in Login, Register, ForgotPassword
const [errors, setErrors] = useState<Record<string, string>>({});

const validateForm = () => {
  const newErrors: Record<string, string> = {};

  if (!email) newErrors.email = 'Email is required';
  else if (!isValidEmail(email)) newErrors.email = 'Invalid email format';

  if (!password) newErrors.password = 'Password is required';
  else if (password.length < 8) newErrors.password = 'Min 8 characters';

  setErrors(newErrors);
  return Object.keys(newErrors).length === 0;
};

const handleSubmit = async (e: React.FormEvent) => {
  e.preventDefault();
  if (!validateForm()) return;

  // Submit form
};
```

### Navigation After Success Pattern

```typescript
// Used across auth and feature pages
import { useNavigate, useLocation } from 'react-router-dom';

const navigate = useNavigate();
const location = useLocation();

// Get return URL from location state or use default
const returnUrl = location.state?.returnUrl || '/dashboard';

// After successful action
navigate(returnUrl);
```

### Loading State Pattern

```typescript
// Used in all pages with async operations
const [loading, setLoading] = useState(false);
const [error, setError] = useState<string | null>(null);

const handleAction = async () => {
  setLoading(true);
  setError(null);

  try {
    await someAsyncAction();
    // Success handling
  } catch (err) {
    setError(err.message);
  } finally {
    setLoading(false);
  }
};
```

---

## Definition of Done

- [ ] All 14 components documented with complete interfaces
- [ ] "Page Components" section added with 3 subsections
- [ ] "Test/Development Components" section added
- [ ] "Utility Components" section updated
- [ ] All route paths documented and verified
- [ ] All store integrations documented
- [ ] Form validation patterns documented
- [ ] Keyboard shortcuts documented
- [ ] Navigation patterns documented
- [ ] Common pitfalls documented
- [ ] All code examples syntactically correct
- [ ] Cross-references added to related components
- [ ] Task completion logged in Frontend-Tasks-Progress.md

---

## Time Breakdown

| Activity | Duration | Details |
|----------|----------|---------|
| Authentication pages (3) | 30 min | Login, Register, ForgotPassword |
| Error pages (2) | 15 min | Unauthorized, NotFound |
| Feature pages (5) | 50 min | Decks, DeckDetail, Review, Summary, Settings |
| Test pages (2) | 15 min | ChartsTest, ActivityFeedTest |
| Utility components (2) | 15 min | FlashcardSkeleton, KeyboardShortcutsHelp |
| **TOTAL** | **125 min** | **(2 hours 5 minutes)** |

---

## Next Steps

After completing this task:
1. Proceed to Task 07.04 (Style Guide Patterns)
2. Cross-reference page documentation with auth patterns (Task 07.01)
3. Consider adding screenshots for error pages and key feature pages
