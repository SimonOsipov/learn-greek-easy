# Task 02.06: Set Up Development Environment and Scripts

**Status**: ‚úÖ Completed
**Priority**: High - Critical Path
**Estimated Time**: 15-20 minutes
**Actual Time**: 25 minutes
**Completed By**: Claude Code Executor
**Completion Date**: 2025-10-27
**Dependencies**: Tasks 02.01-02.05 must be completed first

---

## Task Overview

**Purpose**: Configure a robust development environment with environment variables, enhanced scripts, and comprehensive tooling to ensure consistency across the development team and prepare for deployment.

**Why This Matters**:
- **Team Consistency**: Ensures all developers have the same configuration and environment
- **Configuration Management**: Centralizes app settings in environment variables
- **Developer Experience**: Provides efficient scripts and debugging tools
- **Deployment Readiness**: Prepares configuration patterns for staging/production
- **Type Safety**: Adds TypeScript support for environment variables

---

## Prerequisites

Before starting this task, verify:

- ‚úÖ Tasks 02.01-02.05 are complete
- ‚úÖ Project runs successfully with `npm run dev`
- ‚úÖ Path aliases (@/) are working in vite.config.ts
- ‚úÖ Understanding of environment variables in Vite
- ‚úÖ VS Code is installed (for debug configuration)

---

## Step-by-Step Instructions

### Step 1: Create Environment Variable Template

Create a template file that documents all required environment variables for the application.

**File to create**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/.env.example`

```bash
# ===============================================
# Learn Greek Easy - Environment Variables
# ===============================================
# Copy this file to .env.local for local development
# DO NOT commit .env.local to version control

# ---------------------------------------------
# API Configuration
# ---------------------------------------------
# Backend API base URL (no trailing slash)
VITE_API_URL=http://localhost:8000/api

# API request timeout in milliseconds
VITE_API_TIMEOUT=30000

# ---------------------------------------------
# Authentication
# ---------------------------------------------
# Google OAuth Client ID for social login
# Get from: https://console.cloud.google.com/apis/credentials
VITE_GOOGLE_CLIENT_ID=your-google-client-id-here

# ---------------------------------------------
# Application Configuration
# ---------------------------------------------
# Application name (used in page titles)
VITE_APP_NAME=Learn Greek Easy

# Application version (from package.json)
VITE_APP_VERSION=0.1.0

# Environment type (development/staging/production)
VITE_APP_ENV=development

# ---------------------------------------------
# Feature Flags
# ---------------------------------------------
# Enable mock data for development (true/false)
VITE_ENABLE_MOCK_DATA=true

# Show development tools and debug info (true/false)
VITE_ENABLE_DEVTOOLS=true

# Enable debug mode with verbose logging (true/false)
VITE_ENABLE_DEBUG_MODE=false

# Enable analytics tracking (true/false)
VITE_ENABLE_ANALYTICS=false

# ---------------------------------------------
# Development Settings
# ---------------------------------------------
# Development server port (optional, defaults to 5173)
# VITE_PORT=5173

# Development server host (optional, defaults to localhost)
# VITE_HOST=localhost

# ---------------------------------------------
# Third-Party Services (Future)
# ---------------------------------------------
# Sentry DSN for error tracking
# VITE_SENTRY_DSN=

# Google Analytics ID
# VITE_GA_ID=

# Stripe Publishable Key (for future payments)
# VITE_STRIPE_PUBLISHABLE_KEY=
```

**Then create the actual local environment file**:

```bash
cd /Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend
cp .env.example .env.local
```

Edit `.env.local` with your actual values (this file will be gitignored).

---

### Step 2: Update .gitignore

Ensure environment files with secrets are not committed to version control.

**File to update**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/.gitignore`

Add these lines if not already present:

```gitignore
# Environment variables
.env.local
.env.*.local
.env
!.env.example

# IDE - VSCode
.vscode/*
!.vscode/extensions.json
!.vscode/settings.json
!.vscode/launch.json

# Debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Build artifacts
dist
dist-ssr
*.local

# Editor directories and files
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
```

---

### Step 3: Create Environment Type Definitions

Create TypeScript type definitions for all environment variables to enable IntelliSense and type checking.

**File to create**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/env.d.ts`

```typescript
/// <reference types="vite/client" />

interface ImportMetaEnv {
  // API Configuration
  readonly VITE_API_URL: string;
  readonly VITE_API_TIMEOUT: string;

  // Authentication
  readonly VITE_GOOGLE_CLIENT_ID: string;

  // Application Configuration
  readonly VITE_APP_NAME: string;
  readonly VITE_APP_VERSION: string;
  readonly VITE_APP_ENV: 'development' | 'staging' | 'production';

  // Feature Flags
  readonly VITE_ENABLE_MOCK_DATA: string;
  readonly VITE_ENABLE_DEVTOOLS: string;
  readonly VITE_ENABLE_DEBUG_MODE: string;
  readonly VITE_ENABLE_ANALYTICS: string;

  // Development Settings (Optional)
  readonly VITE_PORT?: string;
  readonly VITE_HOST?: string;

  // Third-Party Services (Optional)
  readonly VITE_SENTRY_DSN?: string;
  readonly VITE_GA_ID?: string;
  readonly VITE_STRIPE_PUBLISHABLE_KEY?: string;
}

interface ImportMeta {
  readonly env: ImportMetaEnv;
}

// Declare global types for the app
declare global {
  // App configuration type
  interface AppConfig {
    apiUrl: string;
    apiTimeout: number;
    googleClientId: string;
    appName: string;
    appVersion: string;
    appEnv: 'development' | 'staging' | 'production';
    features: {
      mockData: boolean;
      devTools: boolean;
      debugMode: boolean;
      analytics: boolean;
    };
  }
}

export {};
```

---

### Step 4: Update Vite Configuration

Enhance the Vite configuration with better server options, build optimizations, and proxy settings.

**File to update**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/vite.config.ts`

```typescript
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'node:path';

// https://vitejs.dev/config/
export default defineConfig(({ mode }) => {
  // Load env file based on `mode` in the current working directory.
  const env = loadEnv(mode, process.cwd(), '');

  return {
    plugins: [react()],

    resolve: {
      alias: {
        '@': path.resolve(__dirname, './src'),
      },
    },

    server: {
      // Use custom port if specified in env, otherwise default to 5173
      port: parseInt(env.VITE_PORT || '5173'),

      // Allow access from network (useful for mobile testing)
      host: true,

      // Open browser automatically in development
      open: true,

      // Enable CORS for development
      cors: true,

      // Configure proxy for API calls to avoid CORS issues
      proxy: {
        '/api': {
          target: env.VITE_API_URL || 'http://localhost:8000',
          changeOrigin: true,
          secure: false,
          rewrite: (path) => path.replace(/^\/api/, ''),
          configure: (proxy, _options) => {
            proxy.on('error', (err, _req, _res) => {
              console.log('proxy error', err);
            });
            proxy.on('proxyReq', (_proxyReq, req, _res) => {
              console.log('Sending Request:', req.method, req.url);
            });
            proxy.on('proxyRes', (proxyRes, req, _res) => {
              console.log('Received Response:', proxyRes.statusCode, req.url);
            });
          },
        },
      },

      // Improve HMR (Hot Module Replacement) for better DX
      hmr: {
        overlay: true,
      },
    },

    preview: {
      // Preview server port (for production build preview)
      port: 4173,
      host: true,
      open: true,
    },

    build: {
      // Output directory
      outDir: 'dist',

      // Generate sourcemaps for production (disable for security if needed)
      sourcemap: true,

      // Minification options
      minify: 'terser',
      terserOptions: {
        compress: {
          drop_console: mode === 'production',
          drop_debugger: mode === 'production',
        },
      },

      // Chunk size warnings
      chunkSizeWarningLimit: 1000,

      // Rollup options for code splitting
      rollupOptions: {
        output: {
          // Manual chunks for better caching
          manualChunks: {
            // React core
            'react-vendor': ['react', 'react-dom', 'react-router-dom'],

            // UI components from Radix UI
            'ui-vendor': [
              '@radix-ui/react-avatar',
              '@radix-ui/react-dialog',
              '@radix-ui/react-dropdown-menu',
              '@radix-ui/react-navigation-menu',
              '@radix-ui/react-progress',
              '@radix-ui/react-separator',
              '@radix-ui/react-toast',
              '@radix-ui/react-tooltip',
            ],

            // Utilities
            'utils': ['clsx', 'tailwind-merge', 'class-variance-authority'],
          },

          // Asset file names
          assetFileNames: (assetInfo) => {
            let extType = assetInfo.name?.split('.').at(1);
            if (/png|jpe?g|svg|gif|tiff|bmp|ico/i.test(extType || '')) {
              extType = 'img';
            }
            return `assets/${extType}/[name]-[hash][extname]`;
          },

          // Chunk file names
          chunkFileNames: 'assets/js/[name]-[hash].js',

          // Entry file names
          entryFileNames: 'assets/js/[name]-[hash].js',
        },
      },

      // Report compressed size
      reportCompressedSize: false,

      // CSS code splitting
      cssCodeSplit: true,
    },

    optimizeDeps: {
      // Pre-bundle heavy dependencies
      include: ['react', 'react-dom', 'react-router-dom'],
    },
  };
});
```

---

### Step 5: Add Development Helper Scripts

Update package.json with additional helpful scripts for development workflow.

**File to update**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/package.json`

Add/update these scripts in the `scripts` section:

```json
{
  "scripts": {
    "dev": "vite",
    "dev:host": "vite --host",
    "dev:debug": "DEBUG=* vite",
    "build": "tsc -b && vite build",
    "build:analyze": "vite build --mode analyze",
    "preview": "vite preview",
    "preview:host": "vite preview --host",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "format": "prettier --write \"src/**/*.{ts,tsx,css,md}\"",
    "format:check": "prettier --check \"src/**/*.{ts,tsx,css,md}\"",
    "type-check": "tsc --noEmit",
    "check-all": "npm run type-check && npm run lint && npm run format:check",
    "fix-all": "npm run lint:fix && npm run format",
    "clean": "rm -rf dist node_modules/.vite",
    "clean:all": "rm -rf dist node_modules package-lock.json",
    "reinstall": "npm run clean:all && npm install",
    "update-deps": "npm update && npm outdated",
    "test": "echo \"No tests configured yet\"",
    "test:ui": "echo \"No UI tests configured yet\""
  }
}
```

**Script Descriptions**:
- `dev`: Start development server (default)
- `dev:host`: Start dev server accessible from network (for mobile testing)
- `dev:debug`: Start dev server with verbose debugging
- `build`: Build for production with TypeScript check
- `build:analyze`: Build and analyze bundle size
- `preview`: Preview production build locally
- `preview:host`: Preview production build accessible from network
- `lint` / `lint:fix`: Check and fix ESLint issues
- `format` / `format:check`: Check and fix Prettier formatting
- `type-check`: Check TypeScript types without building
- `check-all`: Run all quality checks
- `fix-all`: Fix all auto-fixable issues
- `clean`: Clean build artifacts and cache
- `clean:all`: Full clean including node_modules
- `reinstall`: Clean reinstall of all dependencies
- `update-deps`: Update and check outdated dependencies
- `test`: Placeholder for future tests
- `test:ui`: Placeholder for future UI tests

---

### Step 6: Create VS Code Debug Configuration

Set up debugging configuration for Chrome/Edge debugging with breakpoints.

**File to create**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/.vscode/launch.json`

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "name": "Launch Chrome against localhost",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/src",
      "sourceMaps": true,
      "preLaunchTask": "npm: dev",
      "sourceMapPathOverrides": {
        "/@/*": "${webRoot}/*"
      }
    },
    {
      "type": "msedge",
      "request": "launch",
      "name": "Launch Edge against localhost",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/src",
      "sourceMaps": true,
      "preLaunchTask": "npm: dev",
      "sourceMapPathOverrides": {
        "/@/*": "${webRoot}/*"
      }
    },
    {
      "type": "chrome",
      "request": "attach",
      "name": "Attach to Chrome",
      "port": 9222,
      "webRoot": "${workspaceFolder}/src",
      "sourceMaps": true,
      "sourceMapPathOverrides": {
        "/@/*": "${webRoot}/*"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Build Script",
      "skipFiles": ["<node_internals>/**"],
      "program": "${workspaceFolder}/node_modules/vite/bin/vite.js",
      "args": ["build"],
      "console": "integratedTerminal"
    }
  ],
  "compounds": []
}
```

---

### Step 7: Update VS Code Workspace Settings

Enhance the existing VS Code settings for better development experience.

**File to update**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/.vscode/settings.json`

```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit",
    "source.organizeImports": "explicit"
  },
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "typescript.tsdk": "node_modules/typescript/lib",
  "typescript.enablePromptUseWorkspaceTsdk": true,
  "typescript.preferences.importModuleSpecifier": "shortest",
  "typescript.updateImportsOnFileMove.enabled": "always",
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true,
    "**/.DS_Store": true,
    "**/Thumbs.db": true
  },
  "files.associations": {
    "*.css": "tailwindcss",
    ".env*": "dotenv"
  },
  "emmet.includeLanguages": {
    "javascript": "javascriptreact",
    "typescript": "typescriptreact"
  },
  "tailwindCSS.experimental.classRegex": [
    ["cn\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"]
  ],
  "tailwindCSS.includeLanguages": {
    "typescript": "javascript",
    "typescriptreact": "javascript"
  },
  "css.validate": false,
  "editor.quickSuggestions": {
    "strings": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true,
    "**/coverage": true
  },
  "javascript.updateImportsOnFileMove.enabled": "always",
  "explorer.confirmDelete": false,
  "explorer.confirmDragAndDrop": false,
  "workbench.editor.enablePreview": false,
  "terminal.integrated.env.osx": {
    "FIG_NEW_SESSION": "1"
  },
  "terminal.integrated.env.linux": {
    "FIG_NEW_SESSION": "1"
  }
}
```

---

### Step 8: Create Development Documentation

Create a comprehensive development guide for the team.

**File to create**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/DEVELOPMENT.md`

```markdown
# Learn Greek Easy - Development Guide

## üöÄ Quick Start

### Prerequisites
- Node.js 20+ and npm 10+
- VS Code (recommended) with extensions
- Git

### Initial Setup
1. Clone the repository
2. Navigate to frontend: `cd learn-greek-easy-frontend`
3. Copy environment variables: `cp .env.example .env.local`
4. Install dependencies: `npm install`
5. Start development server: `npm run dev`
6. Open browser at http://localhost:5173

## üìÅ Project Structure

```
src/
‚îú‚îÄ‚îÄ assets/          # Static assets (images, fonts)
‚îú‚îÄ‚îÄ components/      # React components
‚îÇ   ‚îú‚îÄ‚îÄ ui/         # Shadcn/ui components
‚îÇ   ‚îú‚îÄ‚îÄ layout/     # Layout components
‚îÇ   ‚îú‚îÄ‚îÄ navigation/ # Navigation components
‚îÇ   ‚îú‚îÄ‚îÄ display/    # Display components
‚îÇ   ‚îî‚îÄ‚îÄ interactive/# Interactive components
‚îú‚îÄ‚îÄ hooks/          # Custom React hooks
‚îú‚îÄ‚îÄ lib/            # Utilities and helpers
‚îú‚îÄ‚îÄ pages/          # Page components
‚îú‚îÄ‚îÄ types/          # TypeScript definitions
‚îú‚îÄ‚îÄ App.tsx         # Main app component
‚îú‚îÄ‚îÄ main.tsx        # Entry point
‚îî‚îÄ‚îÄ env.d.ts        # Environment types
```

## üõ†Ô∏è Available Scripts

### Development
- `npm run dev` - Start development server
- `npm run dev:host` - Start dev server accessible from network
- `npm run dev:debug` - Start with verbose debugging

### Building
- `npm run build` - Build for production
- `npm run build:analyze` - Build and analyze bundle size
- `npm run preview` - Preview production build
- `npm run preview:host` - Preview accessible from network

### Code Quality
- `npm run lint` - Check ESLint issues
- `npm run lint:fix` - Fix ESLint issues
- `npm run format` - Format code with Prettier
- `npm run format:check` - Check formatting
- `npm run type-check` - Check TypeScript types
- `npm run check-all` - Run all checks
- `npm run fix-all` - Fix all auto-fixable issues

### Maintenance
- `npm run clean` - Clean build artifacts
- `npm run clean:all` - Full clean including node_modules
- `npm run reinstall` - Clean reinstall dependencies
- `npm run update-deps` - Update and check dependencies

## üîß Environment Variables

All environment variables are prefixed with `VITE_` to be accessible in the app.

### Required Variables
- `VITE_API_URL` - Backend API URL
- `VITE_GOOGLE_CLIENT_ID` - Google OAuth client ID
- `VITE_APP_NAME` - Application name
- `VITE_APP_VERSION` - Application version
- `VITE_APP_ENV` - Environment (development/staging/production)

### Feature Flags
- `VITE_ENABLE_MOCK_DATA` - Use mock data instead of API
- `VITE_ENABLE_DEVTOOLS` - Show development tools
- `VITE_ENABLE_DEBUG_MODE` - Enable verbose logging
- `VITE_ENABLE_ANALYTICS` - Enable analytics tracking

## üêõ Debugging

### VS Code Debugging
1. Install "Debugger for Chrome" extension
2. Press F5 to start debugging
3. Set breakpoints in VS Code
4. Debug will launch Chrome with source maps

### Browser DevTools
- React Developer Tools extension recommended
- Use `console.log()` with `VITE_ENABLE_DEBUG_MODE=true`
- Network tab to monitor API calls
- Performance tab for optimization

### Common Issues
- Port 5173 already in use: Kill process or change port in .env.local
- Module not found: Check imports and run `npm install`
- TypeScript errors: Run `npm run type-check` for details
- Build fails: Check console for specific errors

## üé® Styling Guidelines

### Tailwind CSS
- Use utility classes for styling
- Custom theme configured in tailwind.config.js
- Use `cn()` utility for conditional classes
- Responsive utilities: `sm:`, `md:`, `lg:`, `xl:`, `2xl:`

### Component Classes
```tsx
// Good - using cn() utility
<div className={cn(
  "flex items-center gap-4",
  isActive && "bg-primary text-white",
  className
)}>

// Bad - string concatenation
<div className={`flex items-center gap-4 ${isActive ? 'bg-primary' : ''}`}>
```

### Color Palette
- Primary: `#2563eb` (blue)
- Success: `#10b981` (green)
- Warning: `#f97316` (orange)
- Error: `#ef4444` (red)
- See Style Guide for complete palette

## üß© Component Development

### Creating New Components
1. Create component file in appropriate folder
2. Export from index.ts barrel file
3. Add TypeScript interface for props
4. Use Shadcn/ui components when possible
5. Add JSDoc comments for documentation

### Component Template
```tsx
import { cn } from '@/lib/utils';

interface ComponentNameProps {
  className?: string;
  children?: React.ReactNode;
}

/**
 * ComponentName - Brief description
 * @param className - Additional CSS classes
 * @param children - Child elements
 */
export const ComponentName = ({
  className,
  children
}: ComponentNameProps) => {
  return (
    <div className={cn("default-styles", className)}>
      {children}
    </div>
  );
};
```

## üì¶ Dependencies

### Core
- React 19.1.1
- TypeScript 5.9.3
- Vite 7.1.7
- Tailwind CSS 3.4.18

### UI Components
- Shadcn/ui (Radix UI based)
- class-variance-authority
- tailwindcss-animate

### Development
- ESLint 9.38.0
- Prettier 3.6.2
- prettier-plugin-tailwindcss

## üö¢ Deployment

### Production Build
1. Set production environment variables
2. Run `npm run build`
3. Output will be in `dist/` folder
4. Serve with any static hosting

### Environment-Specific Builds
```bash
# Development build
npm run build -- --mode development

# Staging build
npm run build -- --mode staging

# Production build
npm run build -- --mode production
```

## üìö Resources

### Documentation
- [React Documentation](https://react.dev)
- [TypeScript Documentation](https://www.typescriptlang.org)
- [Vite Documentation](https://vitejs.dev)
- [Tailwind CSS Documentation](https://tailwindcss.com)
- [Shadcn/ui Documentation](https://ui.shadcn.com)

### Project Specific
- [Style Guide](../.claude/01-MVP/frontend/Style-Guide.md)
- [Component Reference](../.claude/01-MVP/frontend/01/01.03-component-identification.md)
- [Design Decisions](../.claude/01-MVP/frontend/01/01.06-design-decisions.md)

## ü§ù Contributing

1. Create feature branch from `main`
2. Follow code style guidelines
3. Write meaningful commit messages
4. Run `npm run check-all` before committing
5. Create pull request with description

## ‚ùì Troubleshooting

### Module Resolution Issues
```bash
# Clear cache and reinstall
npm run clean:all
npm install
```

### TypeScript Errors
```bash
# Check for type errors
npm run type-check

# Restart TS server in VS Code
Cmd+Shift+P -> "TypeScript: Restart TS Server"
```

### Tailwind Not Working
```bash
# Restart dev server
npm run dev

# Check Tailwind config
npx tailwindcss init -p
```

### Build Failures
```bash
# Clean and rebuild
npm run clean
npm run build

# Check for errors
npm run check-all
```

## üìû Support

For questions or issues:
1. Check this documentation
2. Search existing issues on GitHub
3. Ask in team Slack channel
4. Create GitHub issue with details

---

Last updated: 2025-10-27
```

---

### Step 9: Verify Environment Setup

Test that all environment configurations are working correctly.

**Create a test file**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/lib/config.ts`

```typescript
/**
 * Application configuration loaded from environment variables
 */

// Parse boolean environment variables
const parseBoolean = (value: string | undefined): boolean => {
  return value === 'true';
};

// Parse number environment variables
const parseNumber = (value: string | undefined, defaultValue: number): number => {
  const parsed = parseInt(value || '', 10);
  return isNaN(parsed) ? defaultValue : parsed;
};

// Create the application config object
export const config: AppConfig = {
  apiUrl: import.meta.env.VITE_API_URL || 'http://localhost:8000/api',
  apiTimeout: parseNumber(import.meta.env.VITE_API_TIMEOUT, 30000),
  googleClientId: import.meta.env.VITE_GOOGLE_CLIENT_ID || '',
  appName: import.meta.env.VITE_APP_NAME || 'Learn Greek Easy',
  appVersion: import.meta.env.VITE_APP_VERSION || '0.1.0',
  appEnv: (import.meta.env.VITE_APP_ENV || 'development') as 'development' | 'staging' | 'production',
  features: {
    mockData: parseBoolean(import.meta.env.VITE_ENABLE_MOCK_DATA),
    devTools: parseBoolean(import.meta.env.VITE_ENABLE_DEVTOOLS),
    debugMode: parseBoolean(import.meta.env.VITE_ENABLE_DEBUG_MODE),
    analytics: parseBoolean(import.meta.env.VITE_ENABLE_ANALYTICS),
  },
};

// Development environment check
export const isDevelopment = config.appEnv === 'development';
export const isStaging = config.appEnv === 'staging';
export const isProduction = config.appEnv === 'production';

// Feature flag helpers
export const isDebugMode = config.features.debugMode;
export const isMockDataEnabled = config.features.mockData;
export const isDevToolsEnabled = config.features.devTools;
export const isAnalyticsEnabled = config.features.analytics;

// Validate required configuration in production
if (isProduction) {
  const requiredFields = [
    { key: 'apiUrl', value: config.apiUrl },
    { key: 'googleClientId', value: config.googleClientId },
  ];

  const missingFields = requiredFields
    .filter(field => !field.value)
    .map(field => field.key);

  if (missingFields.length > 0) {
    console.error(`Missing required configuration fields: ${missingFields.join(', ')}`);
  }
}

// Debug logging
if (isDebugMode) {
  console.log('App Configuration:', config);
  console.log('Environment:', config.appEnv);
  console.log('Feature Flags:', config.features);
}

// Export a function to get config values with type safety
export function getConfig<K extends keyof AppConfig>(key: K): AppConfig[K] {
  return config[key];
}
```

**Update main App.tsx to test configuration**:

Add this to `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/App.tsx`:

```typescript
import { config, isDevelopment } from '@/lib/config';

// In your App component, add debug info
function App() {
  // Log configuration in development
  if (isDevelopment) {
    console.log('App running in development mode');
    console.log('API URL:', config.apiUrl);
    console.log('Features enabled:', config.features);
  }

  // ... rest of your component
}
```

---

### Step 10: Optional - Create Helper Utilities

Create additional helper utilities for common environment-related tasks.

**File to create**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/lib/env.ts`

```typescript
/**
 * Environment variable utilities
 */

/**
 * Get an environment variable with type safety
 */
export function getEnv(key: keyof ImportMetaEnv): string {
  return import.meta.env[key] || '';
}

/**
 * Check if a required environment variable is set
 */
export function requireEnv(key: keyof ImportMetaEnv): string {
  const value = getEnv(key);
  if (!value) {
    throw new Error(`Missing required environment variable: ${key}`);
  }
  return value;
}

/**
 * Get an environment variable as a boolean
 */
export function getEnvBoolean(key: keyof ImportMetaEnv, defaultValue = false): boolean {
  const value = getEnv(key);
  if (!value) return defaultValue;
  return value.toLowerCase() === 'true';
}

/**
 * Get an environment variable as a number
 */
export function getEnvNumber(key: keyof ImportMetaEnv, defaultValue: number): number {
  const value = getEnv(key);
  if (!value) return defaultValue;
  const parsed = parseInt(value, 10);
  return isNaN(parsed) ? defaultValue : parsed;
}

/**
 * Check if we're in a specific environment
 */
export function isEnvironment(env: 'development' | 'staging' | 'production'): boolean {
  return import.meta.env.VITE_APP_ENV === env;
}

/**
 * Get the current environment
 */
export function getEnvironment(): 'development' | 'staging' | 'production' {
  return (import.meta.env.VITE_APP_ENV || 'development') as 'development' | 'staging' | 'production';
}

/**
 * Log only in development mode
 */
export function devLog(...args: any[]): void {
  if (isEnvironment('development') && getEnvBoolean('VITE_ENABLE_DEBUG_MODE')) {
    console.log('[DEV]', ...args);
  }
}

/**
 * Warn only in development mode
 */
export function devWarn(...args: any[]): void {
  if (isEnvironment('development')) {
    console.warn('[DEV WARNING]', ...args);
  }
}

/**
 * Error with context
 */
export function devError(message: string, error?: any): void {
  console.error(`[ERROR] ${message}`, error);

  // In production, you might want to send to error tracking service
  if (isEnvironment('production') && import.meta.env.VITE_SENTRY_DSN) {
    // Send to Sentry or other error tracking service
  }
}
```

---

## Complete Configuration Files

### Complete .vscode/extensions.json

```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next",
    "christian-kohler.npm-intellisense",
    "christian-kohler.path-intellisense",
    "mikestead.dotenv",
    "formulahendry.auto-rename-tag",
    "steoates.autoimport",
    "dsznajder.es7-react-js-snippets",
    "msjsdiag.debugger-for-chrome",
    "usernamehw.errorlens",
    "wix.vscode-import-cost"
  ]
}
```

---

## NPM Scripts Reference

### Complete list of all available scripts and their usage:

| Script | Command | Description | When to Use |
|--------|---------|-------------|-------------|
| `dev` | `npm run dev` | Start development server | Daily development |
| `dev:host` | `npm run dev:host` | Dev server on network | Testing on mobile/other devices |
| `dev:debug` | `npm run dev:debug` | Dev with verbose logging | Debugging issues |
| `build` | `npm run build` | Production build | Creating deployment build |
| `build:analyze` | `npm run build:analyze` | Build with bundle analysis | Optimizing bundle size |
| `preview` | `npm run preview` | Preview production build | Testing production build locally |
| `preview:host` | `npm run preview:host` | Preview on network | Testing production on devices |
| `lint` | `npm run lint` | Check ESLint issues | Before commits |
| `lint:fix` | `npm run lint:fix` | Auto-fix ESLint issues | Fixing linting errors |
| `format` | `npm run format` | Format with Prettier | Before commits |
| `format:check` | `npm run format:check` | Check formatting | CI/CD pipeline |
| `type-check` | `npm run type-check` | Check TypeScript types | Before commits |
| `check-all` | `npm run check-all` | Run all checks | Before pull requests |
| `fix-all` | `npm run fix-all` | Fix all auto-fixable | Quick cleanup |
| `clean` | `npm run clean` | Clean build artifacts | Fixing build issues |
| `clean:all` | `npm run clean:all` | Full clean | Major issues |
| `reinstall` | `npm run reinstall` | Clean reinstall | Dependency issues |
| `update-deps` | `npm run update-deps` | Update dependencies | Weekly maintenance |

---

## Verification Checklist

After completing all steps, verify:

- [ ] `.env.example` created with all variables documented
- [ ] `.env.local` created from template (gitignored)
- [ ] `src/env.d.ts` created with TypeScript types
- [ ] `vite.config.ts` enhanced with server/build options
- [ ] All new npm scripts added to package.json
- [ ] `.vscode/launch.json` created for debugging
- [ ] `.vscode/settings.json` updated with new settings
- [ ] `DEVELOPMENT.md` created with comprehensive guide
- [ ] `src/lib/config.ts` created and working
- [ ] `src/lib/env.ts` created with helper utilities
- [ ] Run `npm run dev` - server starts without errors
- [ ] Run `npm run build` - production build succeeds
- [ ] Run `npm run preview` - preview server works
- [ ] Run `npm run check-all` - all checks pass
- [ ] Environment variables accessible in code
- [ ] VS Code debugging works (F5 launches debugger)
- [ ] All scripts documented and tested

---

## Troubleshooting

### Common Issues and Solutions

#### Environment variables not accessible
**Problem**: `import.meta.env.VITE_*` returns undefined
**Solution**:
1. Ensure variable is prefixed with `VITE_`
2. Restart dev server after changing .env file
3. Check .env.local exists and has values

#### Debug configuration not working
**Problem**: VS Code debugger doesn't connect
**Solution**:
1. Ensure Chrome is closed before debugging
2. Check port 5173 is free
3. Install "Debugger for Chrome" extension
4. Verify launch.json paths are correct

#### Port conflicts on dev server
**Problem**: Port 5173 already in use
**Solution**:
1. Find process: `lsof -i :5173`
2. Kill process: `kill -9 <PID>`
3. Or change port in .env.local: `VITE_PORT=5174`

#### Build errors
**Problem**: Production build fails
**Solution**:
1. Run `npm run type-check` to find TypeScript errors
2. Run `npm run lint` to find linting issues
3. Check console output for specific error
4. Try `npm run clean:all && npm install`

#### Scripts not working
**Problem**: npm scripts fail to execute
**Solution**:
1. Check Node.js version: `node --version` (should be 20+)
2. Check npm version: `npm --version` (should be 10+)
3. Run `npm run reinstall` to clean install

---

## Success Criteria

The environment setup is complete when:

- ‚úÖ All environment variables are configured and typed
- ‚úÖ Development scripts enhance productivity
- ‚úÖ VS Code debugging is functional
- ‚úÖ Team documentation is comprehensive
- ‚úÖ Build optimizations are configured
- ‚úÖ All scripts work correctly
- ‚úÖ Environment variables are accessible in code
- ‚úÖ TypeScript IntelliSense works for env variables
- ‚úÖ Development workflow is smooth and efficient
- ‚úÖ Ready for collaborative team development

---

## Next Steps

After completing this task:
1. Proceed to Task 02.07: Create Base Layout Components
2. Test all scripts and configurations
3. Commit changes with message: "feat: configure development environment and scripts"
4. Share DEVELOPMENT.md with team members

---

**Task Created**: 2025-10-27
**Estimated Time**: 15-20 minutes
**Actual Time**: _To be filled by executor_
**Completed By**: _To be filled by executor_