# Task 02.07: Create Base Layout Components

**Status**: ðŸ“‹ Ready for Implementation
**Priority**: High - Required for all subsequent UI tasks
**Estimated Time**: 45 minutes
**Dependencies**:
- âœ… Task 02.01-02.06 (All completed)
- âš ï¸ React Router DOM needs to be installed

---

## Overview

This task establishes the foundational layout structure for the Greek Language Learning SaaS application. We'll implement responsive layout components that provide consistent navigation and content structure across desktop and mobile devices.

### What This Task Accomplishes
- Creates the main application wrapper with responsive navigation
- Implements desktop header with user menu and navigation links
- Builds mobile bottom navigation for touch-friendly interaction
- Establishes layout context for managing responsive states
- Sets up the foundation for all subsequent page implementations

### How It Fits Into the Overall Project
These layout components form the skeleton of the entire application. Every page and feature will be rendered within this layout structure, making it critical for:
- Consistent user experience across all pages
- Responsive behavior on all device sizes
- Navigation accessibility and usability
- Future feature integration (notifications, user preferences, etc.)

---

## Pre-Implementation Requirements

### 1. Install React Router DOM
**Priority**: CRITICAL - Must complete before starting components

```bash
cd /Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend
npm install react-router-dom@^6.20.0
npm install -D @types/react-router-dom@^5.3.3
```

**Verification**: Check package.json contains:
```json
"dependencies": {
  "react-router-dom": "^6.20.0"
}
```

---

## Components to Implement (Priority Order)

### Phase 1: Core Layout Structure
1. **LayoutContext** - Responsive state management
2. **AppLayout** - Main application wrapper
3. **PageContainer** - Max-width content wrapper

### Phase 2: Navigation Components
4. **Header** - Desktop navigation bar
5. **MobileNav** - Bottom navigation for mobile
6. **UserMenu** - User dropdown menu component

### Phase 3: Layout Utilities
7. **ContentLayout** - Two-column grid layout
8. **useLayoutContext** - Custom hook for layout state

---

## Detailed Implementation Steps

### Step 1: Create Layout Context (5 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/contexts/LayoutContext.tsx`

```typescript
import React, { createContext, useContext, useState, useEffect } from 'react';

interface LayoutContextType {
  isMobile: boolean;
  isTablet: boolean;
  isDesktop: boolean;
  isSidebarOpen: boolean;
  toggleSidebar: () => void;
  closeSidebar: () => void;
}

const LayoutContext = createContext<LayoutContextType | undefined>(undefined);

export const LayoutProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
  const [windowWidth, setWindowWidth] = useState(
    typeof window !== 'undefined' ? window.innerWidth : 1024
  );

  useEffect(() => {
    const handleResize = () => {
      setWindowWidth(window.innerWidth);
      // Auto-close sidebar on desktop
      if (window.innerWidth >= 1024) {
        setIsSidebarOpen(false);
      }
    };

    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  const isMobile = windowWidth < 768;
  const isTablet = windowWidth >= 768 && windowWidth < 1024;
  const isDesktop = windowWidth >= 1024;

  const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen);
  const closeSidebar = () => setIsSidebarOpen(false);

  return (
    <LayoutContext.Provider
      value={{
        isMobile,
        isTablet,
        isDesktop,
        isSidebarOpen,
        toggleSidebar,
        closeSidebar,
      }}
    >
      {children}
    </LayoutContext.Provider>
  );
};

export const useLayoutContext = () => {
  const context = useContext(LayoutContext);
  if (!context) {
    throw new Error('useLayoutContext must be used within LayoutProvider');
  }
  return context;
};
```

### Step 2: Create PageContainer Component (3 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/PageContainer.tsx`

```typescript
import React from 'react';
import { cn } from '@/lib/utils';

interface PageContainerProps {
  children: React.ReactNode;
  className?: string;
}

export const PageContainer: React.FC<PageContainerProps> = ({
  children,
  className
}) => {
  return (
    <div className={cn(
      'mx-auto w-full max-w-[1440px] px-4',
      className
    )}>
      {children}
    </div>
  );
};
```

### Step 3: Create Header Component (10 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/Header.tsx`

```typescript
import React from 'react';
import { Link, useLocation } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { Bell, Menu } from 'lucide-react';
import { cn } from '@/lib/utils';
import { useLayoutContext } from '@/contexts/LayoutContext';

interface HeaderProps {
  className?: string;
}

export const Header: React.FC<HeaderProps> = ({ className }) => {
  const location = useLocation();
  const { toggleSidebar, isDesktop } = useLayoutContext();

  const navItems = [
    { path: '/', label: 'Dashboard' },
    { path: '/decks', label: 'All Decks' },
    { path: '/statistics', label: 'Statistics' },
    { path: '/settings', label: 'Settings' },
  ];

  const isActiveRoute = (path: string) => {
    return location.pathname === path;
  };

  return (
    <header className={cn(
      'sticky top-0 z-50 w-full border-b border-border-gray bg-white',
      className
    )}>
      <PageContainer>
        <div className="flex h-16 items-center justify-between">
          {/* Logo and Mobile Menu Toggle */}
          <div className="flex items-center space-x-4">
            {!isDesktop && (
              <Button
                variant="ghost"
                size="icon"
                onClick={toggleSidebar}
                className="lg:hidden"
                aria-label="Toggle menu"
              >
                <Menu className="h-5 w-5" />
              </Button>
            )}

            <Link to="/" className="flex items-center space-x-2">
              <h1 className="text-xl font-semibold text-text-primary">
                Learn Greek Easy
              </h1>
            </Link>
          </div>

          {/* Desktop Navigation */}
          {isDesktop && (
            <nav className="hidden lg:flex items-center space-x-6">
              {navItems.map((item) => (
                <Link
                  key={item.path}
                  to={item.path}
                  className={cn(
                    'text-sm font-medium transition-colors hover:text-primary',
                    isActiveRoute(item.path)
                      ? 'text-primary'
                      : 'text-text-secondary'
                  )}
                >
                  {item.label}
                </Link>
              ))}
            </nav>
          )}

          {/* Right side: Notifications and User Menu */}
          <div className="flex items-center space-x-3">
            {/* Notifications */}
            <Button
              variant="ghost"
              size="icon"
              className="relative"
              aria-label="Notifications"
            >
              <Bell className="h-5 w-5 text-text-secondary" />
              <span className="absolute top-1.5 right-1.5 h-2 w-2 rounded-full bg-warning" />
            </Button>

            {/* User Menu */}
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <Button
                  variant="ghost"
                  className="relative h-9 w-9 rounded-full"
                  aria-label="User menu"
                >
                  <Avatar className="h-9 w-9">
                    <AvatarImage src="" alt="User" />
                    <AvatarFallback className="bg-gradient-to-br from-primary-gradient-from to-primary-gradient-to text-white">
                      JD
                    </AvatarFallback>
                  </Avatar>
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent className="w-56" align="end" forceMount>
                <DropdownMenuLabel className="font-normal">
                  <div className="flex flex-col space-y-1">
                    <p className="text-sm font-medium leading-none">John Doe</p>
                    <p className="text-xs leading-none text-muted-foreground">
                      john.doe@example.com
                    </p>
                  </div>
                </DropdownMenuLabel>
                <DropdownMenuSeparator />
                <DropdownMenuItem asChild>
                  <Link to="/profile">Profile</Link>
                </DropdownMenuItem>
                <DropdownMenuItem asChild>
                  <Link to="/settings">Settings</Link>
                </DropdownMenuItem>
                <DropdownMenuItem>Help & Support</DropdownMenuItem>
                <DropdownMenuSeparator />
                <DropdownMenuItem className="text-destructive focus:text-destructive">
                  Log out
                </DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenu>
          </div>
        </div>
      </PageContainer>
    </header>
  );
};
```

### Step 4: Create MobileNav Component (8 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/MobileNav.tsx`

```typescript
import React from 'react';
import { Link, useLocation } from 'react-router-dom';
import { Home, Layers, BarChart3, Settings, User } from 'lucide-react';
import { cn } from '@/lib/utils';

interface MobileNavProps {
  className?: string;
}

interface NavItem {
  id: string;
  label: string;
  icon: React.ComponentType<{ className?: string }>;
  href: string;
}

const navItems: NavItem[] = [
  { id: 'home', label: 'Home', icon: Home, href: '/' },
  { id: 'decks', label: 'Decks', icon: Layers, href: '/decks' },
  { id: 'stats', label: 'Stats', icon: BarChart3, href: '/statistics' },
  { id: 'settings', label: 'Settings', icon: Settings, href: '/settings' },
  { id: 'profile', label: 'Profile', icon: User, href: '/profile' },
];

export const MobileNav: React.FC<MobileNavProps> = ({ className }) => {
  const location = useLocation();

  const isActive = (href: string) => {
    return location.pathname === href;
  };

  return (
    <nav className={cn(
      'fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-border-gray shadow-nav lg:hidden',
      className
    )}>
      <div className="flex justify-around items-center py-2">
        {navItems.map((item) => {
          const Icon = item.icon;
          const active = isActive(item.href);

          return (
            <Link
              key={item.id}
              to={item.href}
              className={cn(
                'flex flex-col items-center px-3 py-2 min-w-[64px] transition-colors',
                active
                  ? 'text-primary'
                  : 'text-text-muted hover:text-text-secondary'
              )}
              aria-label={item.label}
              aria-current={active ? 'page' : undefined}
            >
              <Icon className="h-5 w-5 mb-1" />
              <span className="text-xs font-medium">{item.label}</span>
            </Link>
          );
        })}
      </div>
    </nav>
  );
};
```

### Step 5: Create AppLayout Component (10 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/AppLayout.tsx`

```typescript
import React, { useEffect } from 'react';
import { Outlet, useLocation } from 'react-router-dom';
import { Sheet, SheetContent } from '@/components/ui/sheet';
import { Header } from './Header';
import { MobileNav } from './MobileNav';
import { PageContainer } from './PageContainer';
import { useLayoutContext } from '@/contexts/LayoutContext';
import { Link } from 'react-router-dom';
import { Home, Layers, BarChart3, Settings, User } from 'lucide-react';
import { cn } from '@/lib/utils';

export const AppLayout: React.FC = () => {
  const location = useLocation();
  const { isMobile, isDesktop, isSidebarOpen, closeSidebar } = useLayoutContext();

  // Close sidebar on route change
  useEffect(() => {
    closeSidebar();
  }, [location.pathname, closeSidebar]);

  const sidebarNavItems = [
    { path: '/', label: 'Dashboard', icon: Home },
    { path: '/decks', label: 'All Decks', icon: Layers },
    { path: '/statistics', label: 'Statistics', icon: BarChart3 },
    { path: '/settings', label: 'Settings', icon: Settings },
    { path: '/profile', label: 'Profile', icon: User },
  ];

  const isActiveRoute = (path: string) => {
    return location.pathname === path;
  };

  return (
    <div className="min-h-screen bg-bg-page">
      {/* Header - Always visible */}
      <Header />

      {/* Mobile Sidebar (Sheet) */}
      {!isDesktop && (
        <Sheet open={isSidebarOpen} onOpenChange={closeSidebar}>
          <SheetContent side="left" className="w-[280px] p-0">
            <div className="flex flex-col h-full">
              {/* Sidebar Header */}
              <div className="p-6 border-b border-border-gray">
                <h2 className="text-lg font-semibold">Menu</h2>
              </div>

              {/* Sidebar Navigation */}
              <nav className="flex-1 p-4">
                <div className="space-y-2">
                  {sidebarNavItems.map((item) => {
                    const Icon = item.icon;
                    const active = isActiveRoute(item.path);

                    return (
                      <Link
                        key={item.path}
                        to={item.path}
                        className={cn(
                          'flex items-center space-x-3 px-3 py-2 rounded-md transition-colors',
                          active
                            ? 'bg-primary/10 text-primary'
                            : 'text-text-secondary hover:bg-secondary hover:text-text-primary'
                        )}
                      >
                        <Icon className="h-5 w-5" />
                        <span className="font-medium">{item.label}</span>
                      </Link>
                    );
                  })}
                </div>
              </nav>
            </div>
          </SheetContent>
        </Sheet>
      )}

      {/* Main Content Area */}
      <main className={cn(
        'flex-1',
        isMobile ? 'pb-20' : 'pb-8' // Extra padding for mobile bottom nav
      )}>
        <PageContainer className="py-6">
          <Outlet />
        </PageContainer>
      </main>

      {/* Mobile Bottom Navigation */}
      {!isDesktop && <MobileNav />}
    </div>
  );
};
```

### Step 6: Create ContentLayout Component (5 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/ContentLayout.tsx`

```typescript
import React from 'react';
import { cn } from '@/lib/utils';

interface ContentLayoutProps {
  children: React.ReactNode;
  sidebar?: React.ReactNode;
  className?: string;
  sidebarClassName?: string;
}

export const ContentLayout: React.FC<ContentLayoutProps> = ({
  children,
  sidebar,
  className,
  sidebarClassName,
}) => {
  if (!sidebar) {
    return <div className={className}>{children}</div>;
  }

  return (
    <div className={cn(
      'grid gap-6',
      'grid-cols-1', // Mobile: single column
      'lg:grid-cols-[2fr_1fr]', // Desktop: 2/3 content, 1/3 sidebar
      className
    )}>
      {/* Main Content */}
      <div className="space-y-6">{children}</div>

      {/* Sidebar */}
      <div className={cn(
        'space-y-6',
        'order-first lg:order-last', // Sidebar on top for mobile, right for desktop
        sidebarClassName
      )}>
        {sidebar}
      </div>
    </div>
  );
};
```

### Step 7: Update Barrel Exports (2 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/components/layout/index.ts`

```typescript
// Barrel export for layout components
export { AppLayout } from './AppLayout';
export { Header } from './Header';
export { MobileNav } from './MobileNav';
export { PageContainer } from './PageContainer';
export { ContentLayout } from './ContentLayout';
```

### Step 8: Update App.tsx to Use Layout (5 minutes)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/App.tsx`

```typescript
import React from 'react';
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import { LayoutProvider } from '@/contexts/LayoutContext';
import { AppLayout } from '@/components/layout';
import { Toaster } from '@/components/ui/toaster';

// Temporary placeholder pages - replace with actual pages
const DashboardPage = () => (
  <div>
    <h1 className="text-2xl font-semibold mb-4">Dashboard</h1>
    <p>Dashboard content will go here.</p>
  </div>
);

const DecksPage = () => (
  <div>
    <h1 className="text-2xl font-semibold mb-4">All Decks</h1>
    <p>Decks list will go here.</p>
  </div>
);

const StatisticsPage = () => (
  <div>
    <h1 className="text-2xl font-semibold mb-4">Statistics</h1>
    <p>Statistics will go here.</p>
  </div>
);

const SettingsPage = () => (
  <div>
    <h1 className="text-2xl font-semibold mb-4">Settings</h1>
    <p>Settings will go here.</p>
  </div>
);

const ProfilePage = () => (
  <div>
    <h1 className="text-2xl font-semibold mb-4">Profile</h1>
    <p>Profile will go here.</p>
  </div>
);

function App() {
  return (
    <BrowserRouter>
      <LayoutProvider>
        <Routes>
          <Route path="/" element={<AppLayout />}>
            <Route index element={<DashboardPage />} />
            <Route path="decks" element={<DecksPage />} />
            <Route path="statistics" element={<StatisticsPage />} />
            <Route path="settings" element={<SettingsPage />} />
            <Route path="profile" element={<ProfilePage />} />
          </Route>
          <Route path="*" element={<Navigate to="/" replace />} />
        </Routes>
        <Toaster />
      </LayoutProvider>
    </BrowserRouter>
  );
}

export default App;
```

### Step 9: Create contexts Directory Index (1 minute)
**File**: `/Users/samosipov/Downloads/learn-greek-easy/learn-greek-easy-frontend/src/contexts/index.ts`

```typescript
// Barrel export for contexts
export { LayoutProvider, useLayoutContext } from './LayoutContext';
```

---

## Technical Specifications

### TypeScript Interfaces

All interfaces are defined inline within components. Key interfaces include:

```typescript
// Layout Context
interface LayoutContextType {
  isMobile: boolean;
  isTablet: boolean;
  isDesktop: boolean;
  isSidebarOpen: boolean;
  toggleSidebar: () => void;
  closeSidebar: () => void;
}

// Component Props
interface HeaderProps {
  className?: string;
}

interface MobileNavProps {
  className?: string;
}

interface PageContainerProps {
  children: React.ReactNode;
  className?: string;
}

interface ContentLayoutProps {
  children: React.ReactNode;
  sidebar?: React.ReactNode;
  className?: string;
  sidebarClassName?: string;
}
```

### Responsive Breakpoints
- **Mobile**: < 768px (shows bottom nav, hamburger menu)
- **Tablet**: 768px - 1023px (shows bottom nav, hamburger menu)
- **Desktop**: >= 1024px (shows header nav, hides mobile elements)

### State Management
- Layout context manages responsive states and sidebar visibility
- React Router manages navigation state
- Future: User authentication state will be added in Task 03

### Accessibility Features
- Proper ARIA labels on all interactive elements
- Keyboard navigation support
- Focus management for mobile menu
- Semantic HTML structure
- Screen reader announcements for route changes

---

## Testing Requirements

### Manual Testing Checklist

#### Desktop Testing (>= 1024px)
- [ ] Header displays with horizontal navigation
- [ ] Logo is clickable and returns to dashboard
- [ ] Navigation links highlight active page
- [ ] User menu dropdown opens and closes
- [ ] Notification bell displays with indicator
- [ ] No mobile navigation elements visible
- [ ] Content has max-width of 1440px
- [ ] All navigation links work correctly

#### Tablet Testing (768px - 1023px)
- [ ] Header shows with hamburger menu
- [ ] Bottom navigation is visible
- [ ] Sidebar opens from left on hamburger click
- [ ] Sidebar closes on route change
- [ ] Sidebar closes on backdrop click
- [ ] Active nav items are highlighted

#### Mobile Testing (< 768px)
- [ ] Header is compact with hamburger menu
- [ ] Bottom navigation shows 5 items
- [ ] Icons and labels are clearly visible
- [ ] Active tab is highlighted in blue
- [ ] Touch targets are at least 44px
- [ ] Content scrolls properly with fixed nav

#### Cross-Browser Testing
- [ ] Chrome/Edge (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest)
- [ ] Mobile Safari (iOS)
- [ ] Chrome Mobile (Android)

#### Accessibility Testing
- [ ] Tab navigation works through all elements
- [ ] Enter/Space activate buttons
- [ ] Escape closes dropdowns/sidebar
- [ ] Screen reader announces navigation
- [ ] Color contrast meets WCAG AA
- [ ] Focus indicators are visible

### Console Verification
- [ ] No TypeScript errors
- [ ] No React warnings
- [ ] No missing key warnings
- [ ] No accessibility violations

---

## Success Criteria

### Functional Requirements
- âœ… Desktop navigation displays correctly at >= 1024px
- âœ… Mobile bottom navigation appears at < 1024px
- âœ… Sidebar menu works on tablet/mobile
- âœ… Active route highlighting works
- âœ… User menu dropdown functions
- âœ… All navigation links route correctly
- âœ… Layout is responsive at all breakpoints

### Visual Requirements
- âœ… Matches Style Guide colors exactly
- âœ… Proper spacing and padding
- âœ… Smooth transitions and animations
- âœ… Consistent typography
- âœ… Clean component hierarchy

### Technical Requirements
- âœ… TypeScript types are correct
- âœ… No console errors or warnings
- âœ… Components are properly exported
- âœ… Context provider works correctly
- âœ… Clean file organization

### Performance
- âœ… Layout renders quickly
- âœ… Smooth resize behavior
- âœ… No layout shift on navigation
- âœ… Efficient re-renders

---

## Time Estimate Breakdown

| Step | Task | Estimated Time | Cumulative |
|------|------|---------------|------------|
| 0 | Install React Router | 2 min | 2 min |
| 1 | Create Layout Context | 5 min | 7 min |
| 2 | Create PageContainer | 3 min | 10 min |
| 3 | Create Header | 10 min | 20 min |
| 4 | Create MobileNav | 8 min | 28 min |
| 5 | Create AppLayout | 10 min | 38 min |
| 6 | Create ContentLayout | 5 min | 43 min |
| 7 | Update Exports | 2 min | 45 min |
| 8 | Update App.tsx | 5 min | 50 min |
| 9 | Testing & Verification | 10 min | 60 min |

**Total Estimated Time**: 45-60 minutes

---

## Common Issues & Solutions

### Issue: Layout Context Not Found
**Solution**: Ensure LayoutProvider wraps the entire app in App.tsx

### Issue: Navigation Not Highlighting
**Solution**: Check useLocation hook is imported from react-router-dom

### Issue: Mobile Nav Overlapping Content
**Solution**: Verify pb-20 padding is applied to main content on mobile

### Issue: Sidebar Not Closing
**Solution**: Check useEffect dependency array includes location.pathname

### Issue: TypeScript Errors with Routes
**Solution**: Ensure @types/react-router-dom is installed

---

## Post-Implementation Checklist

After completing all components:

1. **File Structure Verification**
   - [ ] All 7 component files created
   - [ ] Layout context file created
   - [ ] Barrel exports updated
   - [ ] App.tsx updated

2. **Functionality Testing**
   - [ ] Run `npm run dev` - no errors
   - [ ] Navigate all routes
   - [ ] Test on mobile viewport
   - [ ] Test on desktop viewport
   - [ ] Verify responsive behavior

3. **Code Quality**
   - [ ] Run `npm run lint` - no errors
   - [ ] Run `npm run type-check` - no errors
   - [ ] Check for unused imports
   - [ ] Verify proper TypeScript types

4. **Visual Verification**
   - [ ] Colors match Style Guide
   - [ ] Spacing is consistent
   - [ ] Icons display correctly
   - [ ] Animations are smooth

---

## Next Steps

After completing this task:

1. **Immediate Next**: Task 02.08 - Verify Setup with Test Component
2. **Then**: Task 03 - Authentication & User Management
3. **Future**: Implement actual page components to replace placeholders

---

## References

- [Components Reference](/Users/samosipov/Downloads/learn-greek-easy/.claude/01-MVP/frontend/Components-Reference.md) - Component specifications
- [Style Guide](/Users/samosipov/Downloads/learn-greek-easy/.claude/01-MVP/frontend/Style-Guide.md) - Design system
- [React Router Docs](https://reactrouter.com/en/main) - Routing documentation
- [Shadcn/ui Docs](https://ui.shadcn.com) - Component library
- [Lucide Icons](https://lucide.dev/icons) - Icon reference

---

**Task Created**: 2025-10-28
**Status**: ðŸ“‹ Ready for Implementation
**Last Updated**: 2025-10-28
**Executor Notes**: Follow steps sequentially, test frequently during implementation
